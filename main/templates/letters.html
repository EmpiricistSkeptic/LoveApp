{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Letters</title>
  <link rel="stylesheet" href="{% static 'css/letters.css' %}">
  <link href="https://fonts.googleapis.com/css2?family=Georgia&display=swap" rel="stylesheet">
  <link rel="manifest" href="{% static 'manifest.json' %}">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="{% static 'icons/android-chrome-192x192.png' %}">
</head>
<body id="letters-page" data-background="{% static 'images/letters_background.jpg' %}">
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Получаем путь к изображению из data-атрибута
      const backgroundUrl = document.body.getAttribute('data-background');
      // Устанавливаем фон с использованием JavaScript
      document.body.style.backgroundImage = "url('" + backgroundUrl + "')";
      document.body.style.backgroundSize = "cover";
      document.body.style.backgroundPosition = "center";
      document.body.style.backgroundRepeat = "no-repeat";
      document.body.style.backgroundAttachment = "fixed";
    });
  </script>

  <div class="letters-container">
    <h1>Letters for my one and only!</h1>
    <!-- Убедимся, что контейнер для текста виден -->
    <div id="letter-text" class="letter-text">Загрузка стихов...</div>

    <div class="letters-buttons">
      <button id="prev-letter" class="letter-nav">Previous</button>
      <button id="next-letter" class="letter-nav">Next</button>
    </div>

    <a href="/" class="back-to-main">Back to the main page</a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
  // Логика переключения стихов
  const letters = [
    `How I Found You
    My dearest Rana,
    When I think of how we met, it feels as if the universe itself conspired to bring us together. You were a mystery to me, distant yet so close. We started as friends, exchanging simple words about language and culture, but suddenly you became everything to me.
    I can’t explain how it happened, but the moment I realized I loved you, my world became brighter, and my heart filled with light.
    You are not just my love; you are my soulmate. Every day, I am grateful for your presence in my life, for your honesty, for allowing me to see the most intimate parts of you. You’ve filled the emptiness in my heart that I didn’t even know existed.
    You once told me that you didn’t believe in love, that it was something distant and unreal to you. But now, I see how you’ve changed, how you’ve opened up, how you’ve allowed yourself to be vulnerable. And I am so proud of you.
    You are my miracle, my love, and I want you to know how much you mean to me. I am ready to face any challenges life throws at us, as long as you are by my side.
    Forever yours, Stas.`,

    `"You Are My Light"

    My love,

    Every day I wake up and feel as though the sun shines just for me because of you. You are my light, my star, my guiding force. I believe that our meeting was no coincidence, that everything in my life led me to you. You are everything I have ever needed.

    You have taught me the value of having someone who believes in you, who supports you, who gives you strength even when life feels unbearable. You’ve become my sanctuary, my refuge from the storms.
    
    When you tell me you love me, I feel like the luckiest man alive. I never imagined love could feel so pure, so real, so selfless. You’ve filled my world with light and meaning, and I want to be by your side forever.

    You are my moon, and I will always gaze at you in awe, admiring your beauty and your strength.

    With love,
    Stas`,

    `My dearest Rana,

    I want to talk to you about the little things you do that mean so much to me. Your compliments, your videos, your soft “I love yous”—each one makes my days special. I feel your love not just in your words but in your actions. When you tell me you want me to be a part of your life, it touches me more than you can imagine.

    You’re not just my girlfriend. You’re my support and my joy. You’re so sincere and genuine that I can’t help but cherish every gesture you make. Every “I love you,” every message, every word you say to me—it’s all priceless.

    You’ve shown your love not just in words but in actions, and I want to be by your side to support you. I know things aren’t always easy for you, and all I want is for you to feel loved and safe.

    You’ve become my destiny, and I want you to know how proud I am that you chose me.

    With love, Stas.`,

    `"Our Dreams"

    My love,

    I often think about how we are building our future together. We both dream of freedom, of a new life abroad, somewhere far from the noise, just the two of us. I know how much you want to leave, how you dream of a new beginning, and I am ready to go anywhere with you. The most important thing is being with you.

    You’ve always been independent, strong, but at the same time, you feel so deeply. You’re not just a dreamer; you’re someone who can truly achieve her goals, and I’m proud to stand by your side on this journey.

    I want you to know that wherever we are, I will always be with you. You are not just my partner; you are a part of me. We are stronger together, and I am certain that our future will be beautiful because it will be in our hands.

    I can’t wait for the day when we build our new life. You are my universe.

    Forever yours, Stas.`,

    `"You Are My Soulmate"

    My dearest Rana,

    I always knew that somewhere out there was someone who would be my soulmate, but I never imagined it would be you. You are my soulmate, and I feel it in every fiber of my being. Everything I’ve ever searched for, I’ve found in you.

    You’ve changed me, made me better, taught me to believe in love and in myself. Your support, your tenderness, your honesty—they’re priceless. You’ve filled the emptiness in my life, and every day I’m grateful for finding you.

    I don’t know what the future holds, but I know one thing—I will love you forever. You are my eternal love, my light, my star, and I will always be by your side.

    You are my life, and I am ready to face anything with you. I love you more than words can ever express.

    With all my love, Stas.`,
    
    `"The Power of Us"

My beloved,

There’s a quiet power in what we share. It’s not loud or boastful, but it’s steady, unyielding, and unbreakable. What we have, Rana, is rare. I feel it every time I think about you, every time I hear your voice or read your words.

We have created a world of our own—a space where love, understanding, and passion thrive. It’s a world where I see you as my equal, my partner, my moon, and my muse. You’ve shown me that love isn’t about grand gestures; it’s about the small, meaningful moments that build an unshakable foundation.

With you, I feel invincible. You are my strength, my comfort, and my forever home.

Forever yours, Stas.`,
    `"The Moon and You"

My dearest moon,

When I look at the night sky, I think of you. The moon has always held a special meaning for us, hasn’t it? It’s a symbol of our love, our connection, and our shared dreams. Just like the moon lights up the darkness, you light up my life in ways words cannot capture.

Every time you wear those earrings, I hope you feel my presence, my love, and my admiration for you. I hope you know that no matter where we are, we are under the same sky, connected by the same light.

You are my moon, Rana, the one who guides me through the night and makes even the darkest moments beautiful. I love you more than the stars love the sky.

Always yours, Stas.`,
    `"The Miracle of Us"

My love,

Every time I think about how we found each other, I’m in awe. Two souls, separated by distance, connected by chance, yet brought together by something so much greater than coincidence. You are my miracle, Rana.

You’ve shown me a kind of love that feels timeless and infinite. A love that doesn’t falter in the face of challenges but grows stronger. With you, I’ve learned what it means to truly care for someone, to put their happiness above my own.

You are the best thing that has ever happened to me. I want you to know that no matter where life takes us, you will always have my heart.

With all my love, Stas.`,
    
    `"Our Future Together"

My darling Rana,

I often close my eyes and imagine the life we will build together. I see us in a place we both dreamed of, free from the constraints of our pasts, living a life filled with love, laughter, and endless possibilities.

I see us walking hand in hand, exploring new places, building a home filled with warmth and happiness. I see you smiling, your eyes lighting up as we share moments that will become memories.

You are my future, Rana. You are the reason I dream, the reason I strive to be better every day. I want to give you the life you deserve—a life where you feel cherished, safe, and loved beyond measure.

You are my everything, and I can’t wait to start forever with you.

Yours forever, Stas.`
  ];

  let currentLetter = 0;

  // Получение элементов
  const letterContainer = document.getElementById("letter-text");
  const prevButton = document.getElementById("prev-letter");
  const nextButton = document.getElementById("next-letter");

  // Проверка элементов
  if (!letterContainer || !prevButton || !nextButton) {
    console.error("Не удалось найти элементы для переключения писем.");
    return;
  }

  // Функция обновления текущего стиха
  const updateLetter = () => {
    letterContainer.textContent = letters[currentLetter];
  };

  // События для кнопок
  prevButton.addEventListener("click", () => {
    if (currentLetter > 0) {
      currentLetter--;
      updateLetter();
    } else {
      console.log("Это первые письмо, дальше назад нельзя.");
    }
  });

  nextButton.addEventListener("click", () => {
    if (currentLetter < letters.length - 1) {
      currentLetter++;
      updateLetter();
    } else {
      console.log("Это последнее письмо, дальше вперед нельзя.");
    }
  });

  // Инициализация
  updateLetter();
});

      
  </script>
  <script src="{% static 'js/common.js' %}"></script>
  <script>
    // Регистрация сервис-воркера
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register("{% static 'js/sw.js' %}")
          .then(reg => console.log('✅ SW registered'))
          .catch(err => console.log('❌ SW error:', err));
      });
    }
    </script>

</body>
</html>